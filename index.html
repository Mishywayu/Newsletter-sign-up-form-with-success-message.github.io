<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>
  
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>

  <style>
    @media (max-width: 640px) {
      .flex-container {
        flex-direction: column;
      }

      .order-first {
        order: -1;
      }

      .w-fit{
        width: 100%;
        height: auto;
      }
    }
  </style>

</head>
<body>
  <div class="pt-4 md:h-screen md:bg-gray-700">
    <div id="main-card">
      <div class="flex items-center justify-center mx-auto bg-white w-5/6 md:w-2/3 gap-4 rounded-2xl flex-container">
        <div class="order-first md:order-last w-full md:w-1/2 md:p-6">
          <img src="images/illustration-sign-up-desktop.svg" alt="illustration-sign" class="w-full" />
        </div>
        <div class="w-full md:w-1/2 p-6 md:pl-12">
          <h1 class="text-4xl md:text-5xl text-gray-900 font-bold">Stay updated!</h1>
          <p class="pt-8">Join 60,000+ product managers receiving monthly updates on:</p>
          <ul class="pt-4">
            <li class="flex items-center gap-4 pb-2"><span><img src="images/icon-list.svg" alt="list" /></span>Product discovery and building what matters</li>
            <li class="flex items-center gap-4 pb-2"><span><img src="images/icon-list.svg" alt="list" /></span>Measuring to ensure updates are a success</li>
            <li class="flex items-center gap-4"><span><img src="images/icon-list.svg" alt="list" /></span>And much more!</li>
          </ul>
          <form class="pt-10">
            <h2 class="font-bold">Email address</h2>
            <p class="hidden text-red-500 text-sm text-right font-semibold" id="invalid-msg">Valid email required</p>
            <input type="email" name="" placeholder="email@company.com" class="mt-2 p-3 w-full border border-slate-500 rounded-lg cursor-pointer" id="email-input"/>
            <button type="submit" class="mt-6 p-3 w-full text-center text-white bg-gray-900 rounded-lg cursor-pointer hover:bg-gradient-to-r from-purple-500 to-pink-500">Subscribe to monthly newsletter</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Success message -->
    <div id="success-card" class="hidden pt-18">
      <div class="w-full md:w-1/3 h-auto p-6 md:p-8 mt-0 md:mt-24 mx-auto bg-white md:rounded-2xl">
        <span><img src="images/icon-success.svg" alt="success" class="w-12" /></span>
        <h1 class="pt-8 text-2xl md:text-4xl text-gray-900 font-bold">Thanks for subscribing!</h1>
        <p class="pt-6 md:pt-6 text-sm text-gray-900 font-semibold">A confirmation email has been sent to <span class="font-bold">ash@loremcompany.com.</span> 
          Please open it and click the button inside to confirm your subscription.</p>
        <button class="mt-14 md:mt-8 p-3 w-full text-center text-white bg-gray-900 rounded-lg cursor-pointer hover:bg-gradient-to-r from-purple-500 to-pink-500" id="dismiss">Dismiss message</button>
      </div>
    </div>

  </div> 
</body>
<!-- <script src="js/main.js" type="text/javascript"></script> -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
  const form = document.querySelector("form");
  const successCard = document.getElementById("success-card");
  const emailInput = document.getElementById("email-input");
  const invalidMsg = document.getElementById("invalid-msg");
  const mainCard = document.getElementById("main-card");

  let btn = document.getElementById("dismiss");

  let mailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

  form.addEventListener("submit", function(event) {
    event.preventDefault();

    if (emailInput.value.match(mailRegex)) {
      // Valid email, show success card
      mainCard.style.display = "none";
      successCard.style.display = "block";
    } else {
      // Invalid email, show error message
      invalidMsg.style.display = "block";
      emailInput.style.border = "2px solid red";
      emailInput.style.background = "red";
    }

    btn.addEventListener('click', () => {
      successCard.style.display = "none";
      mainCard.style.display = "block"
    });
  });
});
</script>
</html>